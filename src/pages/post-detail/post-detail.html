<ion-header>

  <ion-navbar color="customColor">
    <ion-title>{{ post.name }}</ion-title>
    <ion-buttons end>
      <button ion-button icon-only (click)="toggleLiked(post)">
        <ion-icon name = "{{ post.icon }}" color="danger" ></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>

</ion-header>


<ion-content>

  <ion-card>
    
    <!-- <div *ngIf="post.video;else gallery_slider">
       <video autoplay="true" muted="muted">
          <source src="http://34.202.156.31/videos/video01.mp4">
       </video>
    </div> -->

  <div *ngIf="post.video;else gallery_slider">
      <video #video1 muted="true" playsinline
      height="300"
      preload="auto"
      controls="controls"
      autoplay="true"
      [src]="'http://34.202.156.31/videos/video01.mp4'"
      >
      </video>
  </div>

    <ng-template #gallery_slider>
        <ion-slides autoplay="3000" pager>
          <ion-slide *ngFor="let imgs of post.images">
              <img src="http://34.202.156.31/{{ imgs.thumbnail.replace('public', 'storage') }}" style="width: 100vw !important; ">
          </ion-slide>
        </ion-slides>
    </ng-template>


   <!--  <ion-slides autoplay="3000" pager style="margin-top:0px !important">
        <ion-slide *ngFor="let imgs of post.images">
            <img src="http://34.202.156.31/{{ imgs.thumbnail.replace('public', 'storage') }}">
        </ion-slide>
    </ion-slides> -->


    <!-- <ion-slides autoplay="3000">
      <ion-slide>
        <img src="http://34.202.156.31/storage/posts/vEvpuZLwtjPQmcDUZ1zb0ZH1CBczWgcI9bMJGiPv.png">
      </ion-slide>
      <ion-slide>
         <img src="http://34.202.156.31/storage/posts/sakqXSz4tUxPZnRc33nXKzKQhnWdrTaR1yePps3C.jpeg">
      </ion-slide>
    </ion-slides> -->

    <ion-card-content>
        <ion-item *ngFor="let author of post.authors">
            <ion-avatar item-start>
              <img src="http://34.202.156.31/{{ author.thumbnail.replace('public', 'storage') }}">
            </ion-avatar>
            <p>{{ author.name }}</p>
        </ion-item>

      <ion-card-title>
        {{ post.name }}

        <ion-chip style="margin-left:5px;">
          <ion-label [ngStyle]="{ 'color':  + post.post_type.color }">{{ post.post_type.name }}</ion-label>
        </ion-chip>

        <p *ngIf="post.tag" style="color: gray">
          <ion-icon name="pricetags"></ion-icon>
          {{ post.tag }}
        </p>

        <p style="color: gray">
          <ion-icon name="pin"></ion-icon> 
          {{ post.ciudad.name }}, {{ post.ciudad.departamento.name }}, {{ post.ciudad.departamento.pais.name }}
        </p>
        
        <p style="color: gray">
          <ion-icon name="calendar"></ion-icon>
          {{ post.date_format }}
        </p>

        <p style="color: gray">
          <ion-icon name="time"></ion-icon>
          {{ post.time_remaining }} Restantes
        </p>

        <br>



      </ion-card-title>

      <p [innerHtml]="post.comment" style="text-align: justify;"></p>

      <br><br>


    </ion-card-content>

  </ion-card>


</ion-content>

<ion-footer>
  <button ion-button icon-left block  color="verde" (click)="deepDonate(post)" >
    <ion-icon name="heart"></ion-icon> Patrocinar este proyecto
  </button>
</ion-footer>
